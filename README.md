### 水上运动监测
- 设备：华为 WATCH 5
- 测试版本：Harmony OS NEXT 5.1.0.112
- OpenHarmony-SDK 5.1.0.107
#### 功能完成
1. 心率监测
2. 定位数据
3. 读取传感器数据
4. 开通esim（联通，20/月，1g流量）
5. 通过网络上传数据到服务器（测试数据）
6. 实现本地缓存
6. 蓝牙连接外置设备
#### 剩余任务
1. 数据解算及分析
1. 教练端小程序或app

### 智能手表性能测试方案（校园环境）

| **测试项目**       | **测试目标**                  | **测试方法**                                                     | **测试工具/条件**              | **数据记录方式**                     |
|--------------------|-----------------------------|--------------------------------------------------------------|--------------------------|-----------------------------------|
| **运动传感器频率**    | 验证加速度计/心率传感器的实际更新频率       | 1. 在平坦路面匀速行走100米，记录传感器回调时间戳差<br>2. 跑步时重复测试                   | 内置日志记录系统<br>高精度秒表        | 计算平均间隔时间（ms）<br>统计丢包率          |
| **GPS精度**         | 测试户外定位准确性                 | 1. 选取校园3个标志性建筑坐标作为基准点<br>2. 静止站立1分钟记录定位数据<br>3. 步行绕建筑物一周记录轨迹 | 谷歌地球坐标对比<br>专业GPS测量仪（参考） | 计算与基准点的平均偏差（米）<br>轨迹重合度分析    |
| **网络带宽与延迟**    | 测量4G下的传输能力         | 1. 上传10KB/100KB/1MB测试包各5次<br>2. 在不同时段（高峰/低谷）测试               | iPerf3网络测试工具<br>移动网络     | 记录平均上传速率（Mbps）<br>平均延迟（ms）      |
| **数据包容量上限**    | 确定单次上传的最大有效数据包大小           | 从100KB开始逐步增加数据包体积，直到服务器返回"413 Payload Too Large"错误           | 自定义数据包生成工具<br>服务器日志监控    | 记录成功上传的最大包大小（KB/MB）           |
| **多环境上传速度**    | 测试不同场景下的传输稳定性              | 在以下场景各测试20次：<br>- 开阔操场<br>- 室内体育馆<br>- 地下室<br>       | 记录丢包数量及上传时间              | 记录成功率/平均速度     |
| **续航影响测试**      | 评估持续上传对电池的消耗               | 满电状态下：<br>1. 仅开启GPS<br>2. 仅传感器采集<br>3. 全功能持续运行               | 系统电量监控API<br>环境温度记录仪     | 每小时电量下降百分比<br>设备表面温度变化（℃）    |

### 目前存在的问题
1. 手表端GPS读取频率存在上限，最多1hz，远不能达到实际需求
1. 市面上没有找到合适的蓝牙+GPS单体模块，要么是私有协议未开放，要么是读取频率同样不够高
1. 使用ESP32连接模块，并通过蓝牙向手表发送数据包，这条路虽然在功能上可以实现，但在防水、耗电、硬件电路等方面很难满足实际应用需求，
做出一个小DEMO可以，但想做一个稳定、可靠的系统较为困难，且使用ESP32做监测的工程在实验室也做过。